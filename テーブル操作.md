| 大区分     | 小区分                       | 使用頻度 | model                                      | migrate              |
|------------|------------------------------|----------|--------------------------------------------|----------------------|
| バリデーション | nilを受け付けたくない         | ☆5       | validates :カラム名, presence: true         | カラム名, null: false |
| バリデーション | 一意性を持たせたい            | ☆4       | validates :カラム名, uniqueness: true       | add_index :テーブル名, :カラム名, unique: true |
| バリデーション | 最大文字数を制限したい         | ☆4       | validates :カラム名, length: { maximum: 255 } | -                    |
| バリデーション | カラムが空でないことを確認したい | ☆4       | validates :カラム名, presence: true, allow_blank: false | カラム名, null: false |
| バリデーション | 関連するモデルが削除されたら無効にする | ☆4       | validates :関連モデル, presence: true | add_foreign_key :テーブル名, :関連テーブル名, on_delete: :cascade |
| バリデーション | 最小文字数を制限したい         | ☆3       | validates :カラム名, length: { minimum: 10 } | -                    |
| バリデーション | 特定の形式を受け付けたい       | ☆3       | validates :カラム名, format: { with: /正規表現/ } | -                    |
| バリデーション | 数値の範囲を制限したい         | ☆3       | validates :カラム名, numericality: { greater_than: 0, less_than: 100 } | -                    |
| バリデーション | 数値のみを受け付けたい         | ☆3       | validates :カラム名, numericality: true     | -                    |
| バリデーション | 保存前にデフォルト値を設定したい | ☆3       | before_validation :設定メソッド              | -                    |
| バリデーション | カスタムバリデーションを追加したい | ☆2       | validate :カスタムメソッド                 | -                    |
| バリデーション | 複数のカラムを同時に検証したい | ☆2       | validates_with カスタムバリデーター         | -                    |
| バリデーション | 特定の値のみ受け付けたい       | ☆2       | validates :カラム名, inclusion: { in: %w(値1 値2) } | -                    |
| バリデーション | 日付の範囲を制限したい         | ☆2       | validates :カラム名, inclusion: { in: Date.new(2000,1,1)..Date.today } | -                    |
| バリデーション | 特定の長さのみ受け付けたい      | ☆2       | validates :カラム名, length: { is: 10 }    | -                    |
| マイグレーション | カラムを追加したい              | ☆5       | -                                        | add_column :テーブル名, :カラム名, :型 |
| マイグレーション | booleanのデフォルト値を設定したい | ☆4       | -                                        | change_column_default :テーブル名, :カラム名, false |
| マイグレーション | デフォルト値を設定したい        | ☆4       | -                                        | change_column_default :テーブル名, :カラム名, 'デフォルト値' |
| マイグレーション | 外部キー制約を追加したい        | ☆4       | -                                        | add_foreign_key :テーブル名, :関連テーブル名 |
| マイグレーション | null許可を変更したい            | ☆4       | -                                        | change_column_null :テーブル名, :カラム名, false (validates :カラム名, presence: true を削除) |
| マイグレーション | インデックスを作成したい        | ☆4       | -                                        | add_index :テーブル名, :カラム名 |
| マイグレーション | タイムスタンプを自動生成したい | ☆4       | t.timestamps                              | t.timestamps          |
| マイグレーション | デフォルト値を持つカラムを追加したい | ☆4       | -                                        | add_column :テーブル名, :カラム名, :型, default: 'デフォルト値' |
| マイグレーション | 一意の複合インデックスを作成したい | ☆3       | -                                        | add_index :テーブル名, [:カラム名1, :カラム名2], unique: true |
| マイグレーション | カラムを削除したい              | ☆3       | -                                        | remove_column :テーブル名, :カラム名 |
| マイグレーション | インデックスを複数のカラムに追加したい | ☆3       | -                                     | add_index :テーブル名, [:カラム名1, :カラム名2] |
| マイグレーション | 既存のカラムをリネームしたい   | ☆3       | -                                         | rename_column :テーブル名, :旧カラム名, :新カラム名 |
| マイグレーション | 既存のカラムの型を変更したい   | ☆3       | -                                         | change_column :テーブル名, :カラム名, :新しい型 |
| マイグレーション | NULL値を許可したい             | ☆3       | -                                         | change_column_null :テーブル名, :カラム名, true (validates :カラム名, presence: true を削除) |
| マイグレーション | データベースレベルで一意性を担保したい | ☆3       | -                                     | add_unique_constraint :テーブル名, [:カラム名1, :カラム名2] |
| マイグレーション | マイグレーションでインデックスを追加したい | ☆3       | -                                     | add_index :テーブル名, :カラム名, name: 'custom_index_name' |
| マイグレーション | インデックスを削除したい        | ☆2       | -                                        | remove_index :テーブル名, :カラム名 |
| マイグレーション | 複合主キーを設定したい         | ☆2       | -                                         | add_index :テーブル名, [:カラム名1, :カラム名2], unique: true, name: 'primary_key' |
| マイグレーション | 配列型カラムを追加したい       | ☆2       | -                                         | add_column :テーブル名, :カラム名, :string, array: true, default: [] |
| マイグレーション | JSON型カラムを追加したい       | ☆2       | -                                         | add_column :テーブル名, :カラム名, :json |
| マイグレーション | マイグレーションのロールバックを追加したい | ☆2       | -                                     | revert do add_column :テーブル名, :カラム名, :型 end |
| セキュリティ  | パスワードを暗号化したい         | ☆5       | has_secure_password                       | add_column :テーブル名, :password_digest, :string |
| セキュリティ  | トークンを生成したい            | ☆3       | has_secure_token :カラム名                 | add_column :テーブル名, :カラム名, :string |
| セキュリティ  | 固定値を持つカラムを追加したい  | ☆3       | enum role: { user: 0, admin: 1 }          | add_column :テーブル名, :role, :integer, default: 0 |
| セキュリティ  | カスタムアクセサを作成したい     | ☆3       | def カラム名=(value); self[:カラム名] = value; end | -                    |
| セキュリティ  | バージョン管理を行いたい         | ☆2       | has_paper_trail                           | add_column :テーブル名, :version, :integer |
| スコープ    | defaultスコープを設定したい     | ☆3       | default_scope { where(active: true) }     | -                    |
| スコープ    | カスタムスコープを作成したい   | ☆3       | scope :スコープ名, ->(引数) { where(条件) } | -                    |
| スコープ    | デフォルトスコープを削除したい  | ☆2       | unscoped                                   | -                    |
| コールバック | 保存前に処理を実行したい        | ☆4       | before_save :メソッド名                    | -                    |
| コールバック | 保存後に処理を実行したい        | ☆4       | after_save :メソッド名                     | -                    |
| コールバック | 削除前に処理を実行したい        | ☆3       | before_destroy :メソッド名                 | -                    |
| コールバック | 削除後に処理を実行したい        | ☆3       | after_destroy :メソッド名                  | -                    |
| コールバック | 更新前に処理を実行したい        | ☆3       | before_update :メソッド名                  | -                    |
| コールバック | 更新後に処理を実行したい        | ☆3       | after_update :メソッド名                   | -                    |
| コールバック | コールバックをスキップしたい    | ☆2       | skip_callback :コールバック名              | -                    |
| 関連       | 外部キーの存在を確認したい      | ☆4       | validates :カラム名, presence: true, foreign_key: true | add_foreign_key :テーブル名, :関連テーブル名 |
| 関連       | 遅延読み込みを行いたい         | ☆3       | belongs_to :関連モデル, -> { includes(:他の関連モデル) } | -                    |
| 関連       | 多対多の関連付けを行いたい     | ☆3       | has_and_belongs_to_many :関連モデル        | create_table :モデル名_関連モデル名, id: false do |t| t.references :モデル名 t.references :関連モデル名 end |
| 関連       | ネストされた属性を受け付けたい   | ☆3       | accepts_nested_attributes_for :関連モデル  | -                    |
| 関連       | 関連付けのスコープを追加したい   | ☆3       | has_many :関連モデル, -> { where(active: true) } | -                    |
| 関連       | ポリモーフィック関連を設定したい  | ☆2       | belongs_to :関連モデル, polymorphic: true  | add_reference :テーブル名, :関連モデル, polymorphic: true |
